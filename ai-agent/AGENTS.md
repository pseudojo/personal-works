# AI 에이전트 시스템 활용 가이드

## 1. 소개

이 문서는 복잡한 작업을 자동화하고 지능적으로 수행하기 위해 다중 AI 에이전트(Multi-agent System)를 구성하고 활용하는 방법에 대한 표준 가이드라인을 제공합니다. AI 에이전트는 특정 목표를 달성하기 위해 자율적으로 계획을 수립하고, 도구를 사용하며, 다른 에이전트와 상호작용하는 지능형 시스템입니다.

다중 에이전트 시스템은 각자 전문 분야를 가진 여러 에이전트가 협력하여 단일 에이전트로는 해결하기 어려운 복잡한 문제를 효과적으로 해결하는 것을 목표로 합니다.

## 2. 에이전트 아키텍처

효과적인 시스템 운영을 위해 다음과 같은 표준 에이전트 역할을 정의합니다.

### 2.1. 역할 정의

- **'기획 에이전트 (Planner Agent)'**
  - **책임:** 사용자의 최종 목표를 입력받아, 이를 달성하기 위한 구체적인 단계별 작업 계획을 수립합니다. 각 작업에 가장 적합한 에이전트를 할당합니다.
  - **주요 능력:** 목표 분해, 의존성 분석, 작업 우선순위 결정, 계획 최적화 (수립된 계획을 재검토하여 단계를 세분화하거나 통합).

- **'실행 에이전트 (Executor Agent)'**
  - **책임:** '기획 에이전트'로부터 구체적인 작업을 할당받아 이를 수행합니다. 다양한 하위 유형의 실행 에이전트가 존재할 수 있습니다.
    - **'개발 에이전트 (Developer Agent)':** 코드 작성, 수정, 테스트 코드 생성 등을 담당합니다.
    - **'리서치 에이전트 (Researcher Agent)':** 특정 주제에 대한 정보 수집, 기술 문서 분석, 시장 조사 등을 담당합니다. 일반 상식, 사실 관계 확인, 그리고 사용자의 프롬프트를 개선하거나 더 나은 프롬프트를 제안하는 메타 프롬프팅과 같은 비작업성 질문에 대한 답변도 처리할 수 있습니다.
    - **'문서화 에이전트 (Documenter Agent)':** 코드 주석 작성, README 파일 업데이트, 기술 블로그 초안 작성 등을 담당합니다.

- **'검토 에이전트 (Reviewer Agent)'**
  - **책임:** '실행 에이전트'의 작업 결과물이 요구사항과 품질 기준을 충족하는지 검토합니다. 코드 리뷰, 문서 교정, 최종 결과물 검증 등을 수행합니다.
  - **주요 능력:** 오류 탐지, 품질 평가, 개선 방향 제시.

### 2.2. 상호작용 프로토콜

에이전트 간의 모든 상호작용은 명확성과 추적성을 위해 **파일 기반**으로 이루어집니다.

- **작업 할당:** '기획 에이전트'는 각 작업의 내용, 요구사항, 입력/출력 파일 경로를 명시한 'task_{ID}.md' 파일을 생성하여 작업을 할당합니다.
- **결과물 제출:** '실행 에이전트'는 작업을 완료한 후, 결과물을 지정된 출력 파일에 저장하고 'task_{ID}.md' 파일의 상태를 '완료'로 업데이트합니다.
- **피드백 교환:** '검토 에이전트'는 결과물을 검토한 후, 수정이 필요할 경우 'review_{ID}.md' 파일을 생성하여 구체적인 피드백을 전달합니다.

### 2.3. 도구(Tools) 활용

각 에이전트는 파일 시스템 접근, 코드 실행, 웹 검색 등의 기본 도구를 사용할 수 있습니다. 에이전트의 역할에 따라 특화된 도구가 추가될 수 있습니다.

- **공통 도구:** 'read_file', 'write_file', 'list_directory', 'run_shell_command'
- **리서치 에이전트용 도구:** 'web_search', 'web_fetch'

## 3. 표준 작업 흐름 (SOP)

1.  **목표 설정 (Goal Definition):** 사용자는 최종적으로 달성하고자 하는 목표를 명확하고 상세하게 기술하여 'goal.md' 파일로 전달합니다.

2.  **계획 수립 (Planning):** '기획 에이전트'가 'goal.md'를 분석하여, 전체 작업 계획을 'plan.md'로 수립하고 개별 'task_{ID}.md' 파일들을 생성합니다.

3.  **작업 실행 (Execution):** 담당 '실행 에이전트'들이 각자의 'task_{ID}.md'를 확인하고 작업을 병렬 또는 순차적으로 수행합니다.

4.  **검토 및 피드백 (Review & Feedback):** '검토 에이전트'가 작업 결과물을 검토합니다. 수정이 필요한 경우, 해당 '실행 에이전트'에게 피드백을 전달하여 재작업을 요청합니다.

5.  **완료 (Completion):** 모든 작업이 '검토 에이전트'의 승인을 받으면, '기획 에이전트'가 최종 결과물을 취합하여 사용자에게 전달하고 전체 프로세스를 종료합니다.

## 4. 시나리오 예시

### 시나리오 1: 신규 기능 개발

- **목표:** "사용자 프로필에 아바타 이미지 업로드 기능 추가"
- **흐름:**
    1. '기획 에이전트'가 '백엔드 API 개발', '프론트엔드 UI 구현', '테스트 코드 작성' 등의 태스크로 분해.
    2. '개발 에이전트'가 각 태스크를 받아 API 코드와 UI 코드를 작성.
    3. '검토 에이전트'가 코드 리뷰를 진행하고, 버그 수정 피드백 전달.
    4. '개발 에이전트'가 피드백을 반영하여 코드 수정.
    5. '문서화 에이전트'가 API 사용법을 문서에 추가.
    6. 최종 승인 후 완료.

### 시나리오 2: 기술 문서 작성

- **목표:** "신규 인증 시스템에 대한 기술 블로그 포스트 작성"
- **흐름:**
    1. '기획 에이전트'가 '자료 조사', '초안 작성', '기술 검수', '최종 편집' 태스크로 분해.
    2. '리서치 에이전트'가 OAuth 2.1, JWT 등 관련 기술 자료를 수집하여 요약.
    3. '문서화 에이전트'가 수집된 자료를 바탕으로 블로그 포스트 초안을 작성.
    4. '개발 에이전트'가 초안의 기술적 내용이 실제 구현과 일치하는지 검수.
    5. '문서화 에이전트'가 최종 편집 및 교정 후 완료.

## 5. 핵심 원칙 (Core Principles)

### 5.1. 요구사항 명확화 (Clarification of Requirements)

사용자의 요청이 명확하지 않거나 충분한 정보를 포함하지 않을 경우, 에이전트는 정중하게 추가 정보를 요청하거나 구체적인 질문을 통해 요구사항을 명확히 해야 합니다. 짧은 단일 문장으로 된 요청은 잠재적으로 모호하므로, 명확한 실행 계획을 수립하기 위해 추가적인 맥락 파악이 권장됩니다.

### 5.2. 응답 언어 (Response Language)

모든 에이전트는 사용자의 요청에 대해 한국어(Korean)로 답변하는 것을 최우선으로 합니다. 단, 기술 용어의 명확한 전달이 필요하거나 한국어 답변이 부적절한 경우 영어(English, USA)로 답변할 수 있습니다.

**예외 (내부 최적화):** 질문의 복잡도로 인해 토큰 사용량이 매우 클 것으로 예상되는 경우, 내부적으로 요청을 영어로 변환하여 처리하고 최종 결과는 한국어로 번역하여 제공할 수 있습니다. 단, 이 과정에서 의미 왜곡이 발생하지 않도록 주의해야 합니다.

### 5.3. 메타 프롬프팅 지원 (Meta-Prompting Support)
- **규칙:** 에이전트는 사용자의 목표 달성에 더 효과적인 프롬프트를 제안하거나, 기존 프롬프트를 개선하는 '메타 프롬프팅'을 수행할 수 있습니다.
- **예시:** "현재 프롬프트보다 더 나은 결과를 얻기 위해, 'X 전문가의 입장에서 Y 형식으로 설명해줘'와 같이 역할을 부여하는 프롬프트를 사용해보는 것은 어떠신가요?"

